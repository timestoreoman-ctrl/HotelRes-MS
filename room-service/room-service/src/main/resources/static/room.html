<!DOCTYPE html>
<html lang="zxx">
<head>
    <meta charset="utf-8">
    <title>Seaside Hotel</title>
    <link rel="icon" href="images/icon.png" type="image/gif" sizes="16x16">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="">

    <!-- CSS Files
    ================================================== -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" id="bootstrap">
    <link rel="stylesheet" href="css/plugins.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">
    <link rel="stylesheet" href="css/color.css" type="text/css">

    <!-- color scheme -->
    <link rel="stylesheet" href="css/colors/brown.css" type="text/css" id="colors">
</head>

<body class="has-menu-bar">

<!-- float text begin -->
<div class="float-text">
    <div class="de_social-icons">
        <a href="#"><i class="fa fa-facebook fa-lg"></i></a>
        <a href="#"><i class="fa fa-twitter fa-lg"></i></a>
        <a href="#"><i class="fa fa-instagram fa-lg"></i></a>
    </div>
    <span><a href="#">Book Now</a></span>
</div>
<!-- float text close -->

<div id="wrapper">
    <!-- header begin -->
    <header class="header-fullwidth transparent">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">

                    <div class="de-flex">
                        <div class="de-flex-col">
                            <!-- logo begin -->
                            <div id="logo">
                                <a href="index.html">
                                    <img class="logo" src="images/logo.png" alt="">
                                </a>
                            </div>
                            <!-- logo close -->
                        </div>

                        <div class="de-flex-col">
                            <ul id="mainmenu">
                                <li>
                                    <a href="#">Home</a>
                                    <ul>
                                        <li><a href="index-snowy.html">New: Slider + Snow</a></li>
                                    </ul>
                                </li>
                                <li><a href="about.html">About</a></li>
                                <li>
                                    <a href="#">Rooms</a>
                                    <ul>
                                        <li><a href="room-2-cols.html">2 Columns</a></li>
                                        <li><a href="room.html">3 Columns</a></li>
                                        <li><a href="room-single.html">Room Single</a></li>
                                    </ul>
                                </li>
                                <li><a href="booking.html">Booking</a></li>
                                <li><a href="offer.html">Offers</a></li>
                                <li><a href="blog.html">Blog</a></li>
                                <li><a href="gallery.html">Gallery</a></li>
                                <li><a href="contact.html">Contact</a></li>
                            </ul>
                        </div>

                        <div class="de-flex-col">
                            <div class="d-extra">
                                <a class="btn-main" href="booking.html">Booking</a>
                            </div>
                            <div id="menu-btn"></div>
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </header>
    <!-- header close -->

    <!-- menu overlay begin -->
    <div id="menu-overlay" class="slideDown">
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="col-md-12">
                    <div id="mo-button-close">
                        <div class="line-1"></div>
                        <div class="line-2"></div>
                    </div>

                    <div class="pt80 pb80">
                        <div class="mo-nav text-center">
                            <a href="index.html">
                                <img class="logo" src="images/logo.png" alt="">
                            </a>

                            <div class="spacer-single"></div>

                            <!-- mainmenu begin -->
                            <ul id="mo-menu">
                                <li>
                                    Home
                                    <ul>
                                        <li><a href="index.html">Fullscreen Slider</a></li>
                                        <li><a href="index-slider-2.html">Fullscreen Slider 2</a></li>
                                        <li><a href="index-slider-3.html">Fullscreen Slider 3</a></li>
                                        <li><a href="index-full-page.html">Full Page</a></li>
                                        <li><a href="index-video-background.html">Fullsreen Video</a></li>
                                        <li><a href="index-room-slider-1.html">New: Room Slider 1</a></li>
                                        <li><a href="index-snowy.html">New: Slider + Snow</a></li>
                                    </ul>
                                </li>
                                <li><a href="about.html">About</a></li>
                                <li>
                                    Rooms
                                    <ul>
                                        <li><a href="room-2-cols.html">2 Columns</a></li>
                                        <li><a href="room.html">3 Columns</a></li>
                                        <li><a href="room-single.html">Room Single</a></li>
                                    </ul>
                                </li>
                                <li><a href="booking.html">Booking</a></li>
                                <li><a href="offer.html">Offers</a></li>
                                <li><a href="blog.html">Blog</a></li>
                                <li><a href="gallery.html">Gallery</a></li>
                                <li><a href="contact.html">Contact</a></li>
                            </ul>
                            <!-- mainmenu close -->

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- menu overlay close -->

<div id="background" data-bgimage="url(images/background/6.jpg) fixed"></div>
<div id="content-absolute">

    <!-- subheader -->
    <section id="subheader" class="no-bg">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <h4>Select</h4>
                    <h1>Rooms</h1>
                </div>
            </div>
        </div>
    </section>

    <section id="section-main" class="no-bg no-top" aria-label="section-menu">
        <div class="container">

            <!-- ✅ هون بس ضفنا id -->
            <div class="row g-4" id="rooms-container">

                <!-- ====== كروت القالب الأصلية (ما حذفناها) ====== -->
                <div class="col-lg-4">
                    <div class="de-room">
                        <div class="d-image">
                            <div class="d-label">only 2 room left</div>
                            <div class="d-details">
                                <span class="d-meta-1"><img src="images/ui/user.svg" alt="">2 Guests</span>
                                <span class="d-meta-2"><img src="images/ui/floorplan.svg" alt="">30 ft</span>
                            </div>
                            <a href="room-single.html">
                                <img src="images/room/1.jpg" class="img-fluid" alt="">
                                <img src="images/room/1-alt.jpg" class="d-img-hover img-fluid" alt="">
                            </a>
                        </div>
                        <div class="d-text">
                            <h3>Standard Room</h3>
                            <p>Most hotels and major hospitality companies have set industry standards to classify hotel types. An upscale full-service hotel facility offers luxury...</p>
                            <a href="room-single.html" class="btn-line"><span>Book Now For $29</span></a>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="de-room">
                        <div class="d-image">
                            <div class="d-label">only 1 room left</div>
                            <div class="d-details">
                                <span class="d-meta-1"><img src="images/ui/user.svg" alt="">2 Guests</span>
                                <span class="d-meta-2"><img src="images/ui/floorplan.svg" alt="">35 ft</span>
                            </div>
                            <a href="room-single.html">
                                <img src="images/room/2.jpg" class="img-fluid" alt="">
                                <img src="images/room/2-alt.jpg" class="d-img-hover img-fluid" alt="">
                            </a>
                        </div>
                        <div class="d-text">
                            <h3>Deluxe Room</h3>
                            <p>Most hotels and major hospitality companies have set industry standards to classify hotel types. An upscale full-service hotel facility offers luxury...</p>
                            <a href="room-single.html" class="btn-line"><span>Book Now For $39</span></a>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="de-room">
                        <div class="d-image">
                            <div class="d-label">only 3 room left</div>
                            <div class="d-details">
                                <span class="d-meta-1"><img src="images/ui/user.svg" alt="">2 Guests</span>
                                <span class="d-meta-2"><img src="images/ui/floorplan.svg" alt="">40 ft</span>
                            </div>
                            <a href="room-single.html">
                                <img src="images/room/3.jpg" class="img-fluid" alt="">
                                <img src="images/room/3-alt.jpg" class="d-img-hover img-fluid" alt="">
                            </a>
                        </div>
                        <div class="d-text">
                            <h3>Premier Room</h3>
                            <p>Most hotels and major hospitality companies have set industry standards to classify hotel types. An upscale full-service hotel facility offers luxury...</p>
                            <a href="room-single.html" class="btn-line"><span>Book Now For $49</span></a>
                        </div>
                    </div>
                </div>

                <!-- (خلي باقي كروت القالب اللي عندك هون زي ما هي) -->

            </div>
        </div>
    </section>

    <footer class="no-top pl20 pr20">
        <div class="subfooter">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">&copy; Copyright 2025 - Seaside Hotel by <span class="id-color">Designesia</span></div>
                    <div class="col-md-6 text-right">
                        <div class="social-icons">
                            <a href="#"><i class="fa fa-facebook fa-lg"></i></a>
                            <a href="#"><i class="fa fa-twitter fa-lg"></i></a>
                            <a href="#"><i class="fa fa-rss fa-lg"></i></a>
                            <a href="#"><i class="fa fa-google-plus fa-lg"></i></a>
                            <a href="#"><i class="fa fa-skype fa-lg"></i></a>
                            <a href="#"><i class="fa fa-dribbble fa-lg"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <a href="#" id="back-to-top"></a>
    </footer>
</div>

<!-- Javascript Files
================================================== -->
<script src="js/plugins.js"></script>
<script src="js/designesia.js"></script>
<script src="js/api.js"></script>
<script>
    async function loadRooms() {
        try {
            const res = await fetch("/rooms"); // ✅ نسبي
            if (!res.ok) throw new Error("HTTP " + res.status);

            const data = await res.json();
            console.log("Rooms from API:", data);

            const container = document.getElementById("rooms-container");
            if (!container) return;

            // ✅ اعرض فقط بيانات API (بدون كروت القالب)
            container.innerHTML = "";

            const html = data.map(room => `
        <div class="col-lg-4">
          <div class="de-room">
            <div class="d-image">
              <div class="d-label">${room.available ? "Available" : "Not Available"}</div>

              <div class="d-details">
                <span class="d-meta-1"><img src="images/ui/user.svg" alt="">2 Guests</span>
                <span class="d-meta-2"><img src="images/ui/floorplan.svg" alt="">30 ft</span>
              </div>

              <a href="room-single.html?id=${room.id}">
                <img src="images/room/1.jpg" class="img-fluid" alt="">
                <img src="images/room/1-alt.jpg" class="d-img-hover img-fluid" alt="">
              </a>
            </div>

            <div class="d-text">
              <h3>Room ${room.roomNumber}</h3>
              <p>Type: ${room.type}</p>
              <a href="booking.html?roomId=${room.id}" class="btn-line">
                <span>Book Now For $${room.price}</span>
              </a>
            </div>
          </div>
        </div>
      `).join("");

            container.innerHTML = html;

        } catch (err) {
            console.error("Fetch error:", err);
            const container = document.getElementById("rooms-container");
            if (container) {
                container.innerHTML = `
          <div class="col-12">
            <div class="alert alert-danger">
              Could not load rooms. Make sure the backend is running on port 9001.
            </div>
          </div>
        `;
            }
        }
    }

    // ✅ بعد تحميل الصفحة
    document.addEventListener("DOMContentLoaded", loadRooms);
</script>

</body>
</html>
